@page "/keyPairs"
@using SSH_Configurer_UI.Model;
@using SSH_Configurer_UI.Components;
@using SSH_Configurer_UI.Services;
@inject KeyPairService keyPairService;
@inject NavigationManager navManager;

<KeyPairList KeyPairs="keyPairs" DeleteCurrentKeyPair="DeleteKeyPair" UpdateCurrentKeyPair="UpdateKeyPair"></KeyPairList>

@code {
    private List<KeyPair> keyPairs;

    protected override async Task OnInitializedAsync()
    {
        keyPairs = keyPairService.GetAllKeyPairs();

        await base.OnInitializedAsync();
    }

    private void DeleteKeyPair(KeyPair keyPair)
    {
        keyPairService.RemoveKeyPair(keyPair);
        keyPairs = keyPairService.GetAllKeyPairs();
    }

    private void UpdateKeyPair(int id)
    {
        navManager.NavigateTo($"./update-keyPair/{id}");
    }
}
