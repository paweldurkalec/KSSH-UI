@page "/devices"
@using SSH_Configurer_UI.Model;
@using SSH_Configurer_UI.Components;
@using SSH_Configurer_UI.Services;
@inject DeviceService deviceService;

<DeviceList Devices="devices" DeleteCurrentDevice="DeleteDevice"></DeviceList>

@code {
    private List<Device> devices;

    protected override async Task OnInitializedAsync()
    {   
        devices = deviceService.GetAllDevices();

        await base.OnInitializedAsync();
    }

    private void DeleteDevice(Device device)
    {
        deviceService.RemoveDevice(device);
    }
}
